(()=>{var n=!1,e=!0,t=document.querySelector("#message"),c=document.querySelector("#catsweeper"),o=15,a=15;window.screen.width<530&&(o=10,a=10),function(n,e){for(var t=0;t<n;t+=1)c.insertAdjacentHTML("beforeend","<tr></tr>");document.querySelectorAll("tr").forEach((function(n){for(var t=0;t<e;t+=1)n.insertAdjacentHTML("beforeend",'<td class="unopened"></td>')}))}(o,a);var r=document.querySelectorAll("td"),i=Math.round(a*o*.1),s=function(n,e){var t=Math.ceil(n),c=Math.floor(e);return Math.floor(Math.random()*(c-t)+t)},d=function(){for(var n=[],e=0;e<o;e+=1)n[e]=new Array(a).fill(0);return n}(),u=function(n){return[n.parentElement.rowIndex,n.cellIndex]},l=function(n,e,t){n.classList.add(e),n.classList.remove(t)},f=function(n,e,t){var c=t;return d[n]&&d[n][e]&&1===d[n][e]&&(c+=1),c},L=function n(e){var t=function(e,t){if(void 0!==d[e]&&void 0!==d[e][t]){var o=c.rows[e].cells[t];o.classList.contains("unopened")&&!o.classList.contains("flagged")&&n(o)}},o=u(e),a=o[0],r=o[1];!0===function(n){var e=u(n),t=e[0],c=e[1],o=0;if(o=f(t,c-1,o),o=f(t,c+1,o),o=f(t-1,c,o),o=f(t+1,c,o),o=f(t+1,c+1,o),o=f(t-1,c+1,o),o=f(t+1,c-1,o),o=f(t-1,c-1,o),l(n,"cat-neighbour-".concat(o),"unopened"),0===o)return l(n,"opened","unopened"),!0}(e)&&(t(a,r-1),t(a,r+1),t(a-1,r),t(a+1,r),t(a+1,r+1),t(a-1,r+1),t(a+1,r-1),t(a-1,r-1))},v=1,g=document.querySelector("#timer"),p=function(){if(!1===n)return!1;v<10?g.innerHTML="00".concat(v):v<100?g.innerHTML="0".concat(v):v<1e3&&(g.innerHTML="".concat(v)),v+=1},m=document.querySelector("#flags-left"),M=i;m.innerHTML=i<10?"00".concat(i):i<100?"0".concat(i):"".concat(i);var T=function(){M>-1?M<10?m.innerHTML="00".concat(M):M<100?m.innerHTML="0".concat(M):M<1e3&&(m.innerHTML="".concat(M)):M<0&&(m.innerHTML=M>-10?"-0".concat(-1*M):"-".concat(-1*M))};r.forEach((function(c){c.addEventListener("contextmenu",(function(t){t.preventDefault(),(n||e)&&(c.classList.contains("flagged")?(l(c,"unopened","flagged"),M+=1,T()):c.classList.contains("unopened")&&(l(c,"flagged","unopened"),M-=1,T()))}),!1),c.addEventListener("mousedown",(function(o){c.classList.contains("unopened")&&(n||e)&&(t.innerText="Hmm..")})),c.addEventListener("mouseup",(function(o){c.classList.contains("unopened")&&(n||e)&&(t.innerText="Choose a tile")})),c.addEventListener("click",(function(f){if(f.preventDefault(),e){n||(setInterval(p,1e3),function(n){for(var e,t,c=n.parentElement.rowIndex,r=n.cellIndex,u=0;u<i;)e=s(0,o),t=s(0,a),1!==d[e][t]&&c!==e&&r!==t&&(d[e][t]=1,u+=1)}(c)),n=!0;var v=u(c),m=v[0],M=v[1];1!==d[m][M]||c.classList.contains("flagged")?c.classList.contains("unopened")&&!c.classList.contains("flagged")&&(L(c),T=!0,r.forEach((function(n){var e=u(n),t=e[0],c=e[1];if((n.classList.contains("unopened")||n.classList.contains("flagged"))&&1!==d[t][c])return T=!1})),T&&(r.forEach((function(n){var e=u(n),t=e[0],c=e[1];1===d[t][c]&&l(n,"flagged","unopened")})),t.innerText="You won!",g.classList.add("bounce-effect"),g.classList.add("bg-blue"),n=!1,e=!1)):(r.forEach((function(n){var e=u(n),t=e[0],c=e[1];1===d[t][c]&&l(n,"cat","unopened")})),t.innerText="Game over!",g.classList.add("bounce-effect"),g.classList.add("bg-red"),n=!1,e=!1)}var T}))}))})();
//# sourceMappingURL=main.js.map